<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Submit a Product | The CANADA List</title>
  <meta name="description" content="Know a product we missed? Submit it here and help expand our database of Canadian-rated items.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="styles.css">

  <meta property="og:title" content="Submit a Product to The CANADA List" />
  <meta property="og:description" content="Know a great Canadian product? Submit it here to help others make informed, patriotic purchases." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://thecanadalist.ca/submit.html" />
  <meta property="og:image" content="https://thecanadalist.ca/images/The Canada List Banner.jpg" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Submit a Product to The CANADA List">
  <meta name="twitter:description" content="Know a Canadian-made product we should feature? Use this form to submit it to our database.">
  <meta name="twitter:image" content="https://thecanadalist.ca/images/The Canada List Banner.jpg">
  <meta name="twitter:site" content="@TheCanadaList">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer-when-downgrade">
  <meta name="format-detection" content="telephone=no">
  <meta name="robots" content="index, follow">

  <!-- Security Features -->
  <meta http-equiv="Content-Security-Policy"
  content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' https://js.stripe.com https://checkout.stripe.com https://www.googletagmanager.com https://www.google.com https://www.gstatic.com;
    style-src 'self' 'unsafe-inline';
    img-src 'self' data: https://upload.wikimedia.org https://*.stripe.com;
    connect-src 'self' https://api.hsforms.com;
  ">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z0C2RC3LEH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z0C2RC3LEH');
</script>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>


</head>

<script>
  (function() {
    if (localStorage.getItem("ctaDismissed") === "true") {
      const style = document.createElement("style");
      style.innerHTML = `
        .cta-bar { display: none !important; }
        body { padding-top: 85px !important; }
        .top-nav { top: 0 !important; }
      `;
      document.head.appendChild(style);
    }
  })();
</script>

    <!-- Call to Action Bar -->
<div class="cta-bar" id="ctaBar">
  <div class="cta-content">
    <span>Stay apprised of Canadian product info via our newsletter:</span>
    <form id="myForm" class="cta-form">
      <input id="email" type="email" name="email" placeholder="Enter your email" required maxlength="100" />
      <div style="position: absolute; left: -9999px;" aria-hidden="true">
        <label>Leave this field blank</label>
        <input type="text" name="website">
      </div>
      <button type="submit">Subscribe</button>
    </form>
    <button id="closeCTA" aria-label="Close CTA Bar">✕</button>
  </div>
</div>

  <nav class="top-nav">
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
    <div class="nav-container full-width-bar">
      <div class="nav-left-spacer"></div>
  
      <ul class="nav-links" id="mobileMenu">
        <li><a href="index.html">The List</a></li>
        <li><a href="submit.html">Submit a Product</a></li>
        <li><a href="support.html">Support the Site</a></li>
        <li><a href="Blogs-homepage.html" class="highlight">Blog</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
  
      <div class="nav-right-tip">
        <a href="tipline.html">New: False Flag Tip Line</a>
      </div>
    </div>
  </nav>

  <!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js-na3.hs-scripts.com/341701216.js"></script>
<!-- End of HubSpot Embed Code -->

  <body>

  <header id="siteHeader">
    <img src="https://upload.wikimedia.org/wikipedia/en/c/cf/Flag_of_Canada.svg" alt="Canadian flag" class="flag">
    <h1><span>The</span> <span style="color: #cc0000">CANADA</span> <span>List</span></h1>
    <div class="subtitle">Know what you're buying. Support what matters.</div>
  </header>

  <main>
    <section id="submit-product" class="form-section">
        <h1>Submit a Product</h1>
        <p>Help expand our Canadian product database by sharing something you’ve found!</p>
      
        <form id="product-form" action="https://formsubmit.co/newproduct@thecanadalist.ca" method="POST">
          <div>
            <label for="product-name">Product Name:</label>
            <input type="text" id="product-name" name="product-name" required placeholder="e.g., Kirkland Organic Peanut Butter" maxlength="100">
          </div>
      
          <div>
            <label for="category">Category:</label>
            <select id="category" name="category" required>
              <option value="" disabled selected hidden>Select Product Category</option>
            </select>
          </div>
          
          <div>
            <label for="brand">Brand (if known):</label>
            <input type="text" id="brand" name="brand" placeholder="e.g., Kirkland" maxlength="100">
          </div>
      
          <div>
            <label for="retailer">Retailer or Store Name:</label>
            <input type="text" id="retailer" name="retailer" placeholder="e.g., Costco" maxlength="100">
          </div>
      
         <div>
            <label for="location">Location (optional):</label>
            <input type="text" id="location" name="location" placeholder="e.g., Toronto, ON or Online" maxlength="100">
          </div>
      
          <div style="position: absolute; left: -9999px;" aria-hidden="true">
            <label>Leave this field blank if you're human</label>
            <input type="text" name="_honey">
          </div>
          
          <div>
            <label for="photo">Upload a Photo (optional; .JPG OR .PNG only):</label>
            <input type="file" id="photo" name="photo" accept="image/jpeg,image/png">
          </div>
      
          <div>
            <label for="notes">Additional Notes:</label>
            <textarea id="notes" name="notes" rows="4" maxlength="1000" placeholder="Provide any additional product notes, as relevant"></textarea>
          </div>

          <div>
            <label for="email">Email:</label>
            <input type="text" id="submitEmail" name="email"  placeholder="Provide your email, if willing." maxlength="100">
          </div>
      
          <div style="display:flex; justify-content:center; margin-top:15px;">
          <div class="g-recaptcha" data-sitekey="6LcvShsrAAAAAM7ZsAuqT1ny7kFd6i7XyXBQmRVJ"></div>
          </div>

          <button type="submit">Submit</button>
          <input type="hidden" name="_captcha" value="true">
          <input type="hidden" name="_subject" value="New Product Submission">
          <input type="hidden" name="_template" value="table">
          <input type="hidden" name="_autoresponse" value="Thank you! Your product submission has been received and will appear on the site once verified.">
        
          <div id="submission-popup" style="display:none; text-align:center; margin-top:20px; padding:15px; background-color:#e0ffe0; color:#006600; border:1px solid #90ee90; border-radius:6px; font-weight:bold;">
            ✅ Your product has been submitted and will appear on the site once verified.
          </div>
        
          <script src="./categoriesData.js"></script>
          <script>
            function populateFilterOptions() {
              const filter = document.getElementById("category");
              filter.innerHTML = "";
          
              const defaultOption = document.createElement("option");
              defaultOption.value = "";
              defaultOption.disabled = true;
              defaultOption.selected = true;
              filter.appendChild(defaultOption);
          
              categoriesData.forEach((category) => {
                const group = document.createElement("optgroup");
                group.label = category.label;
          
                if (category.subcategories && category.subcategories.length > 0) {
                  category.subcategories.forEach((sub) => {
                    if (sub.subcategories) {
                      sub.subcategories.forEach((subsub) => {
                        const option = document.createElement("option");
                        option.value = subsub.label;
                        option.textContent = `${sub.label} → ${subsub.label}`;
                        group.appendChild(option);
                      });
                    } else {
                      const option = document.createElement("option");
                      option.value = sub.label;
                      option.textContent = sub.label;
                      group.appendChild(option);
                    }
                  });
                }
          
                filter.appendChild(group);
              });
            }
          
            populateFilterOptions();
          </script>
          </form>

        <div>
          <h3>✅ What Happens Next?</h3>
          <p style="color: #000;">Once submitted, our team will review the product and verify key details like ownership, manufacturing and sourcing. Approved submissions will appear in the database once verified.</p>
          <p style="color: #000;">Thank you for helping make <strong>The CANADA List</strong> more beneficial for Canadians everywhere!</p>
        </div>
      </section>
      
      <script>
        document.querySelectorAll('input[name="credit"]').forEach((el) => {
          el.addEventListener('change', function () {
            const creditContainer = document.getElementById('credit-name-container');
            creditContainer.style.display = this.value === 'yes' ? 'block' : 'none';
          });
        });
      </script>
  </main>
  <footer style="text-align: center; padding: 20px; font-size: 0.8em; color: #555;">
    <a href="terms.html" style="color: #0077cc; text-decoration: none; margin-right: 15px;">
      Terms of Service
    </a>
    <a href="disclaimer.html" style="color: #0077cc; text-decoration: none;">
      Liability Statement
    </a>
  </footer>

  <script>
    function toggleMenu() {
      document.querySelector('.top-nav').classList.toggle('mobile-nav-open');
    }
  </script>

<script>
  document.addEventListener("DOMContentLoaded", function () {
  const ctaBar = document.getElementById("ctaBar");
  const closeBtn = document.getElementById("closeCTA");

  if (localStorage.getItem("ctaDismissed") === "true") {
    ctaBar.style.display = "none";
    document.body.style.paddingTop = "85px";
    document.querySelector('.top-nav').style.top = "0";
  }

  closeBtn.addEventListener("click", () => {
    localStorage.setItem("ctaDismissed", "true");
    ctaBar.style.display = "none";
    document.body.style.paddingTop = "85px";
    document.querySelector('.top-nav').style.top = "0";
  });

  // ✅ Move this part here:
  const form = document.getElementById("myForm");
  if (form) {
    form.addEventListener("submit", async function(e) {
      e.preventDefault();
      const email = document.getElementById("email").value;

      const hubspotUrl = "https://api.hsforms.com/submissions/v3/integration/submit/341701216/01883640-9eae-4052-a49b-78e8846301e3";

      const data = {
        fields: [{ name: "email", value: email }]
      };

      await fetch(hubspotUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      alert("Thanks for subscribing!");
      e.target.reset();
    });
  }
});

</script>

</body>
</html>
      